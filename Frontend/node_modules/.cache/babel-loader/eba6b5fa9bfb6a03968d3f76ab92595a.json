{"ast":null,"code":"var _jsxFileName = \"/Users/minalkyada/Desktop/IIT/Fall23/ASE/Project/TripSplit/TripSplit/src/pages/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport TextField from '@mui/material/TextField';\nimport './index.css';\nimport split from './split.gif';\nimport ClipLoader from \"react-spinners/CircleLoader\";\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [loading, setLoading] = useState();\n  const [showPassword, setShow] = useState(false);\n  const history = useHistory();\n\n  if (localStorage.getItem('user-info')) {\n    history.push('/dashboard');\n    window.location.reload();\n  }\n\n  useEffect(() => {\n    if (localStorage.getItem('user-info')) {\n      history.push(\"/dashboard\");\n    }\n  }, []);\n  var index = Math.floor(Math.random() * 10);\n\n  if (index === 9) {\n    index = index - 1;\n  }\n\n  const quote = [\"Go ahead -- hold your breath!\", \"Alt-F4 speeds things up...\", \"We're working very Hard .... Really\", \"You are number 2843684714 in the queue\", \"We are not liable for any broken screens as a result of waiting\", \"Well, this is embarrassing\", \"It's not you. It's me\", \"My other loading screen is much faster\", \"Web developers do it with <style>\"];\n\n  async function login() {\n    //credentials\n    setLoading(true);\n    let item = {\n      'username': email,\n      'password': password\n    };\n    let user;\n\n    try {\n      let result = await fetch('http://localhost:8080/user/login', {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(item)\n      });\n      result = await result.json();\n\n      if (result.error == null) {\n        localStorage.setItem('user-info', JSON.stringify(result));\n        user = JSON.parse(localStorage.getItem('user-info'));\n        let groups = await fetch(`http://localhost:8080/user/groups/${user.id}`, {\n          method: 'GET',\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\"\n          }\n        });\n        groups = await groups.json();\n        localStorage.setItem('groups', JSON.stringify(groups));\n        setLoading(false);\n        history.push(\"/dashboard\");\n      } else {\n        setLoading(false);\n        return;\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-screen\",\n        children: /*#__PURE__*/_jsxDEV(ClipLoader, {\n          color: '#C715DE',\n          loading: loading,\n          size: 100\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"login-quote\",\n        children: quote[index]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"m-login\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gif-box\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: split,\n          alt: \"loading...\",\n          style: {\n            height: '100%',\n            width: '50%',\n            position: 'absolute'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-s\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"login-head\",\n          children: [\"Trip\", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: '#2874A6'\n            },\n            children: \"Split\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 43\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login-box\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Email\",\n            onChange: e => {\n              setEmail(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            name: \"password\",\n            type: showPassword ? \"text\" : \"password\",\n            label: \"Password\",\n            onChange: e => {\n              setPassword(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center',\n              backgroundColor: '#2874A6',\n              borderRadius: '0.5vw',\n              cursor: 'pointer'\n            },\n            onClick: login,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: 'white'\n              },\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(\"span\", {\n              onClick: () => {\n                history.push(\"/register\");\n              },\n              style: {\n                cursor: 'pointer'\n              },\n              children: \" Sign up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 39\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(Login, \"W78uQkkrbrkUDuNwLzf/TUX0z6Q=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","TextField","split","ClipLoader","useHistory","Login","email","setEmail","password","setPassword","loading","setLoading","showPassword","setShow","history","localStorage","getItem","push","window","location","reload","index","Math","floor","random","quote","login","item","user","result","fetch","method","headers","body","JSON","stringify","json","error","setItem","parse","groups","id","e","console","log","height","width","position","color","target","value","textAlign","backgroundColor","borderRadius","cursor"],"sources":["/Users/minalkyada/Desktop/IIT/Fall23/ASE/Project/TripSplit/TripSplit/src/pages/Login.js"],"sourcesContent":["import React,{useState,useEffect} from 'react'\nimport TextField from '@mui/material/TextField';\nimport './index.css'\nimport split from './split.gif'\nimport ClipLoader from \"react-spinners/CircleLoader\";\nimport { useHistory } from 'react-router-dom'\n\n\nexport default function Login() {\n  \n    \n  const[email,setEmail] = useState();\n  const[password,setPassword] = useState();\n  const [loading,setLoading] = useState();\n  const [showPassword,setShow] = useState(false)\n  const history = useHistory();\n  if(localStorage.getItem('user-info')){\n    history.push('/dashboard')\n    window.location.reload();\n}\n  useEffect(()=> {\n    if(localStorage.getItem('user-info')) {\n        history.push(\"/dashboard\")\n    }\n  }, [])\n\n  var index = Math.floor(Math.random() * 10);\n  if(index===9)\n  {index=index-1}\n  const quote = [\"Go ahead -- hold your breath!\",\"Alt-F4 speeds things up...\",\"We're working very Hard .... Really\",\"You are number 2843684714 in the queue\",\"We are not liable for any broken screens as a result of waiting\",\"Well, this is embarrassing\",\"It's not you. It's me\",\"My other loading screen is much faster\",\"Web developers do it with <style>\"];\n\n  async function login(){\n        \n    //credentials\n    setLoading(true);\n    let item = {'username':email, 'password': password}\n    let user;\n    try{\n      let result= await fetch('http://localhost:8080/user/login',{\n      method:'POST',\n      headers:{\n          \"Content-Type\":\"application/json\",\n        },\n      body:JSON.stringify(item)\n      });\n      result = await result.json();\n      if(result.error == null)\n      {\n        localStorage.setItem('user-info',JSON.stringify(result));\n        user = JSON.parse(localStorage.getItem('user-info'));\n        let groups= await fetch(`http://localhost:8080/user/groups/${user.id}`,{\n          method:'GET',\n          headers:{\n              \"Content-Type\":\"application/json\",\n              \"Accept\":\"application/json\",\n          },});\n          groups = await groups.json();\n          localStorage.setItem('groups',JSON.stringify(groups));\n          setLoading(false);\n          history.push(\"/dashboard\");\n      }\n      else{\n        setLoading(false);\n        return;\n      }\n    }\n    catch(e){\n    console.log(e);\n    }\n\n    \n    \n\n\n}\n  return (\n    <>\n            {loading ?\n            <>\n            <div className=\"login-screen\">\n            <ClipLoader color={'#C715DE'} loading={loading} size={100} />\n            </div>\n            <br/>\n            <p className=\"login-quote\" >{quote[index]}</p>   \n        \n            </>\n            :\n            <div className='m-login'>\n            <div className='gif-box'>\n            {/* <Iframe url=\"https://giphy.com/gifs/looneytunes-looney-tunes-bugs-bunny-pay-day-67ThRZlYBvibtdF9JH\" width=\"50%\" height=\"50%\" position='absolute' className=\"giphy-embed\" ></Iframe> */}\n            <img src={split} alt=\"loading...\" style={{height:'100%',width:'50%',position:'absolute'}} />\n            </div>\n            <div className='login-s'>\n            <p className='login-head'>Trip<span style={{color:'#2874A6'}}>Split</span></p>\n            <div className='login-box'>\n            <TextField label=\"Email\" onChange={(e)=>{setEmail(e.target.value)}}/>\n          \n            <TextField \n            required\n            \n            name=\"password\"\n            \n            type={showPassword?\"text\":\"password\"}\n            label=\"Password\" onChange={(e)=>{setPassword(e.target.value)}}/>\n            <div style={{textAlign:'center',backgroundColor:'#2874A6',borderRadius:'0.5vw',cursor:'pointer'}} onClick={login} >\n            <p style={{color:'white'}}>Login</p>\n            </div>\n            <p>Don't have an account? <span onClick={()=>{history.push(\"/register\")}} style={{cursor:'pointer'}} > Sign up</span></p>\n                {/* <button className='login-button' placeholder='Login' /> */}\n            </div>\n            </div>\n            </div>\n            }\n            </>\n    \n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}